<%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/login.css ">
    <link rel="stylesheet" href="/css/admin/add-prod.css ">
    <link rel="stylesheet" href="/css/admin/navBar.css ">

    </head>

    <body>
        <%- include('../includes/admin/sidebar.ejs') %>
            <main style="margin-top: 78px;">
                <section class="vh-100">
                    <div class="container py-5 h-100">
                        <div class="row d-flex justify-content-center align-items-center h-100">
                            <div class="col-12 col-md-9 col-sm-12">
                                <div class="shadow-2-strong">
                                    <div class="container">
                                        <span class="add-product">ADD PRODUCT</span>
                                    </div>
                                    <div class=" p-5 ">

                                        <form action="/admin/product/addProduct" method="post" id="myForm"
                                            enctype="multipart/form-data" id="productForm">


                                            <div class="form-outline mb-3 row ">
                                                <div class=" col-md-4 col-12 mb-3">
                                                    <label class="form-label" for="brand">Brand</label>
                                                    <input type="text" class="form-control form-control-md rounded-0"
                                                        id="brand" placeholder="Brand" name="brand"
                                                        style='text-transform:uppercase' required />
                                                </div>
                                                <div class="col-md-8 col-12">
                                                    <label class="form-label" for="lname">Product Name</label>
                                                    <input type="text" class="form-control form-control-md rounded-0"
                                                        id="name" placeholder="Product name" name="name" required />
                                                </div>
                                            </div>
                                            <div class="form-outline mb-3 row">
                                                <div class=" col-md-4 col-12 mb-3">
                                                    <div class="row">
                                                        <div>
                                                            <label class="form-label" for="category">Category</label>
                                                            <select id="category" class="form-control" name="category">
                                                                <% if(category.length>0){ for(let i=0;i
                                                                    <category.length;i++){%>
                                                                        <option id="<%=category[i]._id  %>"
                                                                            name="<%=category[i]._id  %>">
                                                                            <%= category[i].name %>
                                                                        </option>
                                                                        <% }}else{ %>
                                                                            <option value="">No categories</option>
                                                                            <% } %>
                                                            </select>
                                                        </div>
                                                        <div class="mt-4">
                                                            <label class="form-label" for="price">Price</label>
                                                            <input type="number"
                                                                class="form-control form-control-md rounded-0"
                                                                type="number" id="price" placeholder="price"
                                                                name="price" min="0" required />

                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="col-md-8 col-12">
                                                    <label class="form-label" for="description">Description</label>
                                                    <textarea type="text" rows="5" id="email"
                                                        class="form-control form-control-md rounded-0" id="description"
                                                        placeholder="" name="description" required></textarea>

                                                </div>
                                            </div>
                                            <div class="form-outline mb-3 row">
                                                <div class=" col-md-4 col-12 mb-3">
                                                    <label class="form-label" for="dprice">Discount Price</label>
                                                    <input type="number" class="form-control form-control-md rounded-0"
                                                        type="number" id="dprice" class="form-control"
                                                        placeholder="Discount price" name="dPrice" min="0" required />
                                                </div>
                                                <div class="col-md-8 col-12">
                                                    <div class="row">
                                                        <label class="form-check-label">Size :&nbsp;</label>
                                                        <div class="col-md-6 mt-3" id="size-character">
                                                            <input class="form-check-input" type="checkbox" value="XS"
                                                                id="check1" name="check1"
                                                                onclick="handleCheckboxChange1()">
                                                            <label class="form-check-label" for="check1">XS</label>
                                                            <input class="form-check-input" type="checkbox" value="S"
                                                                id="check2" name="check2"
                                                                onclick="handleCheckboxChange1()">
                                                            <label class="form-check-label" for="check2">S</label>
                                                            <input class="form-check-input" type="checkbox" value="M"
                                                                id="check3" name="check3"
                                                                onclick="handleCheckboxChange1()">
                                                            <label class="form-check-label" for="check3">M</label>
                                                            <input class="form-check-input" type="checkbox" value="L"
                                                                id="check4" name="check4"
                                                                onclick="handleCheckboxChange1()">
                                                            <label class="form-check-label" for="check4">L</label>
                                                            <input class="form-check-input" type="checkbox" value="XL"
                                                                id="check5" name="check5"
                                                                onclick="handleCheckboxChange1()">
                                                            <label class="form-check-label" for="check5">XL</label>
                                                            <input class="form-check-input" type="checkbox" value="XXL"
                                                                id="check6" name="check6"
                                                                onclick="handleCheckboxChange1()">
                                                            <label class="form-check-label" for="check6">XXL</label>
                                                        </div>

                                                        <div class="col-md-6 mt-3" id="size-number">
                                                            <input class="form-check-input" type="checkbox" value="5"
                                                                id="check1" name="check1"
                                                                onclick="handleCheckboxChange()">
                                                            <label class="form-check-label" for="check1">5</label>
                                                            <input class="form-check-input" type="checkbox" value="6"
                                                                id="check2" name="check2"
                                                                onclick="handleCheckboxChange()">
                                                            <label class="form-check-label" for="check2">6</label>
                                                            <input class="form-check-input" type="checkbox" value="7"
                                                                id="check3" name="check3"
                                                                onclick="handleCheckboxChange()">
                                                            <label class="form-check-label" for="check3">7</label>
                                                            <input class="form-check-input" type="checkbox" value="8"
                                                                id="check4" name="check4"
                                                                onclick="handleCheckboxChange()">
                                                            <label class="form-check-label" for="check4">8</label>
                                                            <input class="form-check-input" type="checkbox" value="9"
                                                                id="check5" name="check5"
                                                                onclick="handleCheckboxChange()">
                                                            <label class="form-check-label" for="check5">9</label>
                                                            <input class="form-check-input" type="checkbox" value="10"
                                                                id="check6" name="check6"
                                                                onclick="handleCheckboxChange()">
                                                            <label class="form-check-label" for="check6">10</label>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                            <div class="form-outline mb-3 row">
                                                <div class=" col-md-4 col-12 mb-3">
                                                    <label class="form-label" for="password">Quantity</label>
                                                    <input class="form-control form-control-md rounded-0" type="Number"
                                                        id="quantity" placeholder="Quantity" name="quantity" min="0"
                                                        required />
                                                </div>
                                                <div class="col-md-8 col-12">
                                                    <label class="form-label" for="cPassword">Choose product
                                                        images</label>
                                                    <div class="d-flex align-items-center">

                                                        <input type="file" class="form-control-file" id="image"
                                                            name="image" single accept="image/*" required>


                                                        <input type="file" class="form-control-file" id="image"
                                                            name="image" single accept="image/*" required>


                                                        <input type="file" class="form-control-file" id="image"
                                                            name="image" single accept="image/*" required>

                                                    </div>

                                                </div>
                                            </div>
                                            <div class="text-center">
                                                <button class="btn btn-md rounded-0 login-btn" type="submit">ADD
                                                    PRODUCT</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
            <script>


                function handleCheckboxChange() {
                    var frCheckboxes = document.querySelectorAll('#size-number input[type="checkbox"]');
                    var anDiv = document.getElementById('size-character');

                    // Check if any checkbox in the "fr" div is selected
                    var isChecked = Array.from(frCheckboxes).some(function (checkbox) {
                        return checkbox.checked;
                    });

                    // Enable or disable the "an" div based on the checkbox state
                    if (isChecked) {
                        anDiv.style.pointerEvents = 'none'; // Disable the div
                        anDiv.style.opacity = '0.5'; // Optional: Reduce the opacity to indicate it's disabled
                    } else {
                        anDiv.style.pointerEvents = 'auto'; // Enable the div
                        anDiv.style.opacity = '1'; // Optional: Restore the original opacity
                    }
                }


                function handleCheckboxChange1() {
                    var frCheckboxes = document.querySelectorAll('#size-character input[type="checkbox"]');
                    var anDiv = document.getElementById('size-number');

                    // Check if any checkbox in the "fr" div is selected
                    var isChecked = Array.from(frCheckboxes).some(function (checkbox) {
                        return checkbox.checked;
                    });

                    // Enable or disable the "an" div based on the checkbox state
                    if (isChecked) {
                        anDiv.style.pointerEvents = 'none'; // Disable the div
                        anDiv.style.opacity = '0.5'; // Optional: Reduce the opacity to indicate it's disabled
                    } else {
                        anDiv.style.pointerEvents = 'auto'; // Enable the div
                        anDiv.style.opacity = '1'; // Optional: Restore the original opacity
                    }
                }
            </script>
            <script>
                // Function to check if at least one size checkbox is checked
                function isSizeChecked() {
                    const characterSizes = document.querySelectorAll("#size-character input[type=checkbox]");
                    const numberSizes = document.querySelectorAll("#size-number input[type=checkbox]");

                    // Check if at least one checkbox is checked in either group
                    return Array.from(characterSizes).some(checkbox => checkbox.checked) ||
                        Array.from(numberSizes).some(checkbox => checkbox.checked);
                }

                // Function to handle form submission
                function handleSubmit(event) {
                    if (!isSizeChecked()) {
                        event.preventDefault(); // Prevent form submission
                        alert("Please select at least one size.");
                    } else {
                        // Form is valid, submit the form
                    }
                }

                // Add event listener to the form's submit event
                const form = document.getElementById("myForm");
                form.addEventListener("submit", handleSubmit);
            </script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>

    </body>
    <%- include('../includes/footer.ejs') %>